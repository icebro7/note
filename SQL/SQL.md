# SQL 

结构化查询语言

数据查询：DQL	

数据定义：DDL	 CREATE、ALTER、DROP

数据操纵：DML	SELECT、UPDATE、DELETE、INSERT

数据控制：DCL	GRANT、REVOKE



![image-20221019154103028](C:\Users\98680\Desktop\学习笔记\英语四级\img\image-20221019154103028.png)





##### DBMS：数据库管理系统

{核心、统一控制和管理 }



###### {数据的安全性控制、

数据库权限：DCL	--grant、revoke



###### 数据的完整性控制、

实体完整性：主键、

参照完整性：外键、

用户自定义完整性



###### 并发控制、

保证数据的一致性、使用封锁的技术



###### 数据恢复

日志文件：更新操作

}



###### 数据库的完整性约束

正确性、有效性、相容性



###### 数据库管理系统的主要功能

定义、操纵、保护、存储、维护、数据字典







##### DB：数据库 

存储在计算机内、有组织的、可共享的数据集合



##### DBS：数据库系统 

###### 发展三阶段：

人工管理阶段、

文件系统阶段、

数据库系统阶段



###### 用户：

终端用户、

应用程序员、

数据库管理员



###### 数据库系统(范围最大)：

数据库、

数据库用户、

计算机硬件系统、

计算机软件系统





##### DBA：数据库管理员

{用户：终端用户、应用程序员、数据库管理员}





##### 同义词

表：关系、关系模型 

行：记录、元组

列：字段、属性

主键：主码、关键字、关系字、关系键、键、码

列数：目、度

数据项：特征





##### 聚集函数

COUNT、

SUM、

AVG、

MAX、

MIN





##### 三级模式两级映射

外模式：用户级 	部分数据(视图) 多个

外模式/模式印象：逻辑独立性

模式：概念级	全部数据(表) 单个

模式/内模式印象：物理独立性

内模式：物理级	文件存储 单个





##### 运算符

![image-20221016134020576](C:\Users\98680\Desktop\学习笔记\SQL\img\image-20221016134020576.png)

R U S是：属于R或属于S	并

R n S是：属于R且属于S	差

R - S是：属于R不属于S	交

R X S是：属于R或属于S	笛卡尔积





δ：选择	查行

Π：投影	查列

∞、*：连接	自然连接(星号：1公共列等值连接，2去掉公共列)

÷：除法



表达式

**Π**____(**δ**____(**∞**))



##### 关系运算



###### 关系代数

并、差、笛卡尔积、选择、投影



传统的集合运算符、

专门的关系运算符、

算术比较运算符、 

逻辑运算符



###### 关系演算



###### 关系运算结果：关系



##### 数据库的设计包含哪两部分

###### 结构设计：

概念设计、逻辑设计、物理设计

###### 行为设计：

应用程序







##### 数据库设计六阶段

###### 系统需求分析阶段：

用户参与、最重要、最花时间、最麻烦、最复杂。

工具：

数据流图

数据字典：

数据项、数据结构、数据流、数据存储、处理过程



###### 概念结构设计阶段

冲突分类：

属性冲突、命名冲突、结构冲突



###### 逻辑结构设计阶段

转成关系模式、评价模型、规范化、满足3NF



###### 物理结构设计阶段

存储方案设计



###### 数据库实施阶段

###### 数据库运行与维护阶段





##### 函数依赖

X->Y,同时X**不包含**Y,则：X->Y是**非平凡的函数依赖**

X->Y,同时X**包含**Y,则：X->Y是**平凡的函数依赖**



###### 完全函数依赖

X->Y，X的每个真子集都能推出Y，则：Y完全依赖于X

###### 部分函数依赖 

X->Y，X的一部分真子集能推出Y，则：Y部分依赖于X

###### 传递函数依赖

X->Y，Y->Z，则：Z传递依赖于X

###### 直接函数依赖





##### 函数依赖基本性质

投影性、

扩张性、

合并性、

分解性



##### 关系模式的规范化

数据冗余、插入异常、删除异常、更新异常



###### 第一范式(1NF)

没有重复列、每个列都不可再分

###### 第二范式(2NF) 

每一个非主键完全依赖于主键

###### 第三范式(3NF)

每一个非主键不传递依赖于主键

###### BCNF

在关系中每一个函数依赖均满足如下条件：

X->Y，且Y不在X内，且X内包含主键



##### 规范化原则

无损连接性

函数依赖保持性





##### 数据模型三要素 

数据结构、数据操作、数据的约束条件 





##### SQL Server2000 身份验证

windows身份验证模式、混合身份验证模式





##### 常见数据库数据模型

层次模型	(1:n	树形)、

网状模型	(m:n	图形)、

关系模型	(二维表)

面向对象模型



##### 事务

数据库系统中执行的一个工作单位 



###### 原子性、

事务的所有操纵在数据库中要么全部正确反映出来，要么全部不反映



###### 一致性、

###### 隔离性、

###### 持久性







### 课件

##### 第一章

###### 位于用户和数据库之间的桥梁：

操作系统



###### 三个世界：

现实世界、信息世界、计算机世界



##### 第二章

###### 关系的性质：

行和列可以交换顺序，但是不能有相同的

没一列的分量必须来自同一个域，统一类型的数据



###### 唯一标识关系中行的一个属性或者集合：

候选键



##### 第三章

###### 视图：

一条查询语句、简化操作、不能提高查询速度、不能备份、虚表、逻辑独立性、安全性、加密屏蔽数据、视图数据删除了原本数据不会被删除、视图数据修改了原本数据可能被修改



###### SQL语言主要特点：

类似英语的自然语言，简洁易用

非过程性、面向集合的语言

既是自含式语言、又是嵌入式语言

支持面向对象扩展



###### 四个系统默认数据库

Master、Model、Msdb、Tempdb



##### 第五章

###### 数据库的安全性：

保护数据库以防止非法使用所造成的数据泄露、更改或破坏，通过权限(DCL)来完成





 

### 考题积累

1、关系模式的分解需要保证**无损连接性**和**函数依赖保持性**













































